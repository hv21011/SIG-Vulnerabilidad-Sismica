<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>SIG Vulnerabilidad Sismica</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
</head>
<body>
  <div id="map"></div>
  <button id="toggle3D">Activar perspectiva 3D</button>

  <div class="control-panel" id="panelCapas">
  
    <div class="layer-group">
      <input type="checkbox" id="chkSismos">
      <label for="chkSismos">Sismos</label>
      <span class="toggle-legend" onclick="toggleLeyenda('leyendaSismos')">[+]</span>
      <div class="legend" id="leyendaSismos">
        <div><span class="legend-color" style="background:#CF010B; border-radius:50%; width:12px; height:12px" ></span> Magnitud &lt; 3.1</div>
        <div><span class="legend-color" style="background:#CF010B; border-radius:50%; width:13px; height:13px"></span> Magnitud 3.1 – 3.47</div>
        <div><span class="legend-color" style="background:#CF010B; border-radius:50%; width:14px; height:14px"></span> Magnitud 3.47 – 3.9</div>
        <div><span class="legend-color" style="background:#CF010B; border-radius:50%; width:15px; height:15px"></span> Magnitud 3.9 – 4.34</div>
        <div><span class="legend-color" style="background:#CF010B; border-radius:50%; width:16px; height:16px"></span> Magnitud &gt; 4.34</div>
      </div>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkVias" checked>
      <label for="chkVias">
        <span class="legend-color" style="background:#ffffff"></span>
        Vías principales
      </label>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkFallas">
      <label for="chkFallas">
        <span class="legend-color" style="background:#491e00"></span>
        Fallas geograficas
      </label>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkAgua" checked>
      <label for="chkAgua">
        <span class="legend-color" style="background:#7fcdbb"></span>
        Cuerpos de agua
      </label>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkViviendas">
      <label for="chkViviendas">Viviendas vulnerables</label>
      <span class="toggle-legend" onclick="toggleLeyenda('leyendaViviendas')">[+]</span>
      <div class="legend" id="leyendaViviendas">
        <div><span class="legend-color" style="background:#fff0fa"></span> &lt; 13.76%</div>
        <div><span class="legend-color" style="background:#e6cbf3"></span> 13.76 – 23.76%</div>
        <div><span class="legend-color" style="background:#cda6eb"></span> 23.76 – 33.76%</div>
        <div><span class="legend-color" style="background:#b481e3"></span> 33.76 – 43.76%</div>
        <div><span class="legend-color" style="background:#9b5cdb"></span> 43.76 – 53.76%</div>
        <div><span class="legend-color" style="background:#8237d4"></span> 53.76 – 63.76%</div>
        <div><span class="legend-color" style="background:#6912cc"></span> &gt; 63.76%</div>
      </div>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkAmenaza">
      <label for="chkAmenaza">Amenaza sísmica</label>
      <span class="toggle-legend" onclick="toggleLeyenda('leyendaAmenaza')">[+]</span>
      <div class="legend" id="leyendaAmenaza">
        <div><span class="legend-color" style="background:#fee3d6"></span>Menor que 350 (Gal)</div>
        <div><span class="legend-color" style="background:#fdc6af"></span>De 350 a 380 (Gal)</div>
        <div><span class="legend-color" style="background:#fca486"></span>De 380 a 410 (Gal)</div>
        <div><span class="legend-color" style="background:#fc8161"></span>De 410 a 440 (Gal)</div>
        <div><span class="legend-color" style="background:#f85d42"></span>De 440 a 470 (Gal)</div>
        <div><span class="legend-color" style="background:#ea372a"></span>De 470 a 500 (Gal)</div>
        <div><span class="legend-color" style="background:#cc191d"></span>De 500 a 530 (Gal)</div>
        <div><span class="legend-color" style="background:#a91016"></span>Mayor que 530 (Gal)</div>
        <div><span class="legend-color" style="background:#67000d"></span>Otro valor</div>
      </div>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkDistritos" checked>
      <label for="chkDistritos">
        <span class="legend-color" style="background:#FEB24C"></span>
        Distritos
      </label>
    </div>

    <div class="layer-group">
      <input type="checkbox" id="chkDeslizamientos">
      <label for="chkDeslizamientos">
        <span class="legend-color" style="background:#000000"></span>
        Deslizamientos
      </label>
    </div>
  </div>
  <script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
  <script src="js/capas.js"></script>
  <script src="js/popup.js"></script>
  <script src="js/panelControl.js"></script>
</body>
</html>
